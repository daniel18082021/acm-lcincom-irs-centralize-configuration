databaseChangeLog:
  - changeSet:
      id: '2020Jan13-120000-disableLiquibase'
      author: huy.nguyenquoc
      dbms: 'postgresql'
      context: 'prod'
      rollback:
        - sql:
            sql:
              - UPDATE orbitmaster.configuration set "value" = 'true' where application = 'transaction-confirmation' and 'profile' = 'default' and label = 'default' and key = 'spring.liquibase.enabled';
      changes:
        - sql:
            sql:
              - UPDATE orbitmaster.configuration set "value" = 'false' where application = 'transaction-confirmation' and 'profile' = 'default' and label = 'default' and key = 'spring.liquibase.enabled';
  - changeSet:
      id: '2020Jan13-120000-insertRouterServerConfiguration'
      author: khanh_nguyen_vn
      dbms: 'postgresql'
      context: 'prod'
      rollback:
        - sql:
            sql:
              - DELETE FROM orbitmaster.configuration WHERE application = 'transaction-confirmation' and 'profile' = 'default' and label = 'default' and key ='grpc.port';
                DELETE FROM orbitmaster.configuration WHERE application = 'transaction-confirmation' and 'profile' = 'default' and label = 'default' and key ='management.server.port';
                DELETE FROM orbitmaster.configuration WHERE application = 'transaction-confirmation' and 'profile' = 'default' and label = 'default' and key ='server.port';
      changes:
        - sql:
            sql:
              - INSERT INTO orbitmaster.configuration(application, profile, label, key, value) VALUES ('transaction-confirmation', 'default', 'default', 'grpc.port', '19443');
                INSERT INTO orbitmaster.configuration(application, profile, label, key, value) VALUES ('transaction-confirmation', 'default', 'default', 'management.server.port', '18443');
                INSERT INTO orbitmaster.configuration(application, profile, label, key, value) VALUES ('transaction-confirmation', 'default', 'default', 'server.port', '8443');
