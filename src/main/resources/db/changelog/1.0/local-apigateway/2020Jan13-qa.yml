databaseChangeLog:
  - changeSet:
      id: '2020Jan13-1200000-insertServerConfiguration'
      author: khanh_nguyen_vn
      dbms: 'postgresql'
      context : 'qa'
      rollback:
        - sql:
            sql:
              DELETE FROM orbitmaster.configuration WHERE application = 'local-api-gateway' and 'profile' = 'default' and label = 'default' and key = 'management.port';
              DELETE FROM orbitmaster.configuration WHERE application = 'local-api-gateway' and 'profile' = 'default' and label = 'default' and key = 'management.security.enabled';
              DELETE FROM orbitmaster.configuration WHERE application = 'local-api-gateway' and 'profile' = 'default' and label = 'default' and key = 'server.port';
              DELETE FROM orbitmaster.configuration WHERE application = 'local-api-gateway' and 'profile' = 'default' and label = 'default' and key = 'spring.cloud.stream.kafka.binder.zkNodes';

      changes:
        - sql:
            sql:
              INSERT INTO orbitmaster.configuration(application, profile, label, key, value) VALUES ('local-api-gateway', 'default', 'default', 'management.port', '18443');
              INSERT INTO orbitmaster.configuration(application, profile, label, key, value) VALUES ('local-api-gateway', 'default', 'default', 'management.security.enabled', 'false');
              INSERT INTO orbitmaster.configuration(application, profile, label, key, value) VALUES ('local-api-gateway', 'default', 'default', 'server.port', '8443');
              INSERT INTO orbitmaster.configuration(application, profile, label, key, value) VALUES ('local-api-gateway', 'default', 'default', 'spring.cloud.stream.kafka.binder.zkNodes', 'z-1.orbit-aml-nonprod.wuyvj2.c4.kafka.ap-southeast-1.amazonaws.com:2181,z-3.orbit-aml-nonprod.wuyvj2.c4.kafka.ap-southeast-1.amazonaws.com:2181,z-2.orbit-aml-nonprod.wuyvj2.c4.kafka.ap-southeast-1.amazonaws.com:2181');
